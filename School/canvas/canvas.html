<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>0317 2班02周文强 利用canvas画图+js代码</title>
		<style>
			#canvas{
				border: 1px solid blue;
			}
			#show{
				margin-top: -100px;
				width: 500px;
				text-align: center;
				font-size: 60px;
			}
		</style>
	</head>
	<body>
		<canvas id="canvas" width="500px" height="500px">
			替代文字：您的浏览器不能正常识别canvas
		</canvas>
		<div id="show"></div>
	</body>
	<script>
	window.onload=function(){
		//canvas画图，实际上就是运行js代码
		//2.1:获取canvas元素，把他当成画板
		var canvas=document.getElementById("canvas");
		//2.2:获取该元素的上下文对象“画笔”，很2d和3d
		var context=canvas.getContext("2d");
		//2.3:擦干净画图区域，就是在canvas区域清除矩形内容
		context.clearRect(0,0,canvas.width,canvas.height);
		//2.4:设置填充色和线条
		context.fillStyle="red";
		context.strokeStyle="blue";
		//2.5:画多个矩形,填充红色，描边蓝色
		//context.fillRect(50,50,200,200);
		//context.strokeRect(100,50,200,200);
		//画多个矩形实现进度条，for太快，改用setInterval
		/*var x=0;
		var y=100;
		var w=10;
		for(x=0;x<=490;x=x+10)
		{
			context.fillRect(x,y,w,200);
			
		}*/
		
		/*var x=0;
		var y=100;
		var w=10;
		var h=200;
		//获取显示百分比的div(id=show)
		var show=document.getElementById("show");
		//定义一计时器timer
		var timer=setInterval(function(){
			context.fillRect(x,y,w,h);
			show.innerHTML=Math.floor(x/500.0*100,2)+"%";
			if(x==500) 
			   timer.clear(); 
			else x=x+10;
			
		},200);
		
		var x1=0;
		var y1=150;
		var w1=10;
		var h1=200;
		//定义一计时器timer
		var timer=setInterval(function(){
			context.strokeRect(x1,y1,w1,h1);
			if(x1==500) 
			   timer.clear(); 
			else x1=x1+5;
		},200);*/
		
		/*//2.5:画扇形arc,填充红色，描边蓝色
		//除了矩形专用油fillRect，strokeRect以外，被的图形要先勾边，路径，然后在填充上色或线条上色
		context.beginPath();
		//context.moveTo(250,250);
		context.arc(250,250,100,0,360*Math.PI/180);
		context.closePath();
		//context.fill();//fill会自动闭合图形填充
		context.stroke();*/
		
		//2.5画多个扇形实现进度条
		var x=250;
		var y=250;
		var r=200;
		var an=0;
		var show=document.getElementById("show");
		var timer=setInterval(function(){
			an=an+10;
			context.beginPath();
			context.moveTo(x,y);
			context.arc(x,y,r,0,an*Math.PI/180);
			context.closePath();
			context.fill();
		},1000);
	}
	
	
	    </script>
	
</html>
